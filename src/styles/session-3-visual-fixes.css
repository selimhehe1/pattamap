/**
 * ============================================
 * SESSION 3: VISUAL UX FIXES - January 2025
 * ============================================
 *
 * Fixes critiques identifiÃ©s via screenshots audit:
 * - Desktop: 1920x1080 (screenshot-desktop.png)
 * - Mobile: 375x812 (screenshot-mobile.png)
 *
 * PROBLÃˆMES RÃ‰SOLUS:
 * 1. ðŸ”´ Header vide (manque login/menu buttons)
 * 2. ðŸ”´ Subtitle contraste faible (illisible)
 * 3. ðŸŸ¡ Back button trop petit
 * 4. ðŸŸ¢ Espacement bottom nav mobile
 *
 * @version 1.0.0
 * @created 2025-01-21 (Session 3)
 */

/* ============================================
   FIX #1: HEADER - Add Login/Menu Placeholder
   ============================================ */

/**
 * PROBLÃˆME: Header a une grande zone vide Ã  droite
 * Pas de login button, menu hamburger, ou user profile visible
 *
 * SOLUTION TEMPORAIRE: Ajouter styles pour futurs boutons
 * (Les composants Header doivent Ãªtre modifiÃ©s pour afficher ces Ã©lÃ©ments)
 */

.header-main-nightlife {
  position: relative;
  display: flex;
  justify-content: space-between; /* Force espace entre logo et nav */
  align-items: center;
  padding: var(--spacing-4, 1.5rem) var(--spacing-6, 2rem);
}

/* Ensure header nav buttons are visible */
.header-nav-nightlife,
.header-actions-nightlife {
  display: flex !important;
  gap: var(--spacing-3, 1rem);
  align-items: center;
}

/* Fix header icons visibility */
.header-nav-icon,
.header-action-icon {
  min-width: 2.75rem; /* 44px WCAG AAA */
  min-height: 2.75rem;
  display: inline-flex !important;
  align-items: center;
  justify-content: center;
  color: var(--color-gold, #C19A6B);
  font-size: 1.25rem; /* 20px */
  opacity: 1 !important; /* Force visibility */
  visibility: visible !important;
}

/* ============================================
   FIX #2: SUBTITLE - Improve Contrast
   ============================================ */

/**
 * PROBLÃˆME: "Navigate Pattaya Nightlife" presque invisible
 * Contraste insuffisant (gris foncÃ© sur fond sombre)
 *
 * SOLUTION: Augmenter contraste + ajouter text-shadow
 */

.header-subtitle-nightlife,
.header-tagline-nightlife,
[class*="subtitle"],
[class*="tagline"] {
  color: rgba(255, 255, 255, 0.85) !important; /* Was 0.6, now 0.85 */
  font-size: var(--font-base, 1rem) !important; /* Was too small */
  font-weight: var(--font-weight-medium, 500);
  text-shadow: 0 2px 8px rgba(0, 0, 0, 0.6); /* Add depth */
  letter-spacing: 0.5px; /* Improve readability */
}

/* Desktop: Make subtitle even more visible */
@media (min-width: 48rem) {
  .header-subtitle-nightlife,
  .header-tagline-nightlife {
    font-size: var(--font-lg, 1.125rem) !important; /* 18px */
    color: rgba(255, 255, 255, 0.9) !important;
  }
}

/* ============================================
   FIX #3: BACK BUTTON - Increase Size
   ============================================ */

/**
 * PROBLÃˆME: FlÃ¨che retour trop petite (haut gauche)
 * Difficile Ã  voir et cliquer
 *
 * SOLUTION: Augmenter taille + amÃ©liorer contraste
 */

.back-button-absolute-nightlife,
.header-back-btn,
[class*="back-button"] {
  min-width: 2.75rem !important; /* 44px WCAG AAA */
  min-height: 2.75rem !important;
  font-size: 1.25rem !important; /* 20px - was too small */
  padding: var(--spacing-2, 0.75rem) var(--spacing-3, 1rem) !important;

  /* Improve visibility */
  background: rgba(0, 0, 0, 0.5) !important;
  border: 2px solid rgba(193, 154, 107, 0.6) !important;
  border-radius: var(--border-radius-md, 8px);

  /* Add shadow for depth */
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);

  /* Smooth transitions */
  transition: all 0.3s ease;
}

.back-button-absolute-nightlife:hover,
.header-back-btn:hover {
  background: rgba(193, 154, 107, 0.2) !important;
  border-color: var(--color-gold, #C19A6B) !important;
  transform: translateX(-2px);
  box-shadow: 0 6px 16px rgba(193, 154, 107, 0.3);
}

/* ============================================
   FIX #4: BOTTOM NAV MOBILE - Better Spacing
   ============================================ */

/**
 * PROBLÃˆME: Boutons bottom nav lÃ©gÃ¨rement serrÃ©s
 *
 * SOLUTION: AmÃ©liorer padding et espacement
 */

.mobile-bottom-nav {
  padding: var(--spacing-3, 1rem) var(--spacing-4, 1.5rem) !important;
  gap: var(--spacing-2, 0.75rem);
  background: var(--gradient-header) !important; /* Theme-aware */
  backdrop-filter: blur(12px);
  border-top: 1px solid var(--border-primary) !important;
  box-shadow: var(--shadow-md) !important;
}

.mobile-bottom-nav-item {
  flex: 1;
  min-width: 5rem; /* 80px */
  min-height: 3rem; /* 48px - WCAG AAA */
  padding: var(--spacing-2, 0.75rem) var(--spacing-3, 1rem) !important;

  /* Better visual feedback */
  transition: all 0.3s ease;
  border-radius: var(--border-radius-md, 8px);
}

.mobile-bottom-nav-item:hover,
.mobile-bottom-nav-item.active {
  background: var(--bg-hover) !important; /* Theme-aware */
  transform: translateY(-2px);
}

/* Icons spacing */
.mobile-bottom-nav-icon {
  margin-bottom: var(--spacing-1, 0.25rem);
  font-size: 1.5rem; /* 24px */
}

.mobile-bottom-nav-label {
  font-size: var(--font-xs, 0.75rem); /* 12px */
  font-weight: var(--font-weight-medium, 500);
  color: var(--text-secondary) !important; /* Theme-aware */
}

/* ============================================
   FIX #5: MAP CIRCLES - Better Contrast
   ============================================ */

/**
 * BONUS: AmÃ©liorer contraste des cercles Ã©tablissements
 * Certains cercles sont difficiles Ã  distinguer
 */

.establishment-marker-nightlife,
[class*="establishment-circle"],
[class*="map-marker"] {
  /* Add subtle border for better definition */
  box-shadow:
    0 0 0 2px rgba(0, 0, 0, 0.3),
    0 4px 12px rgba(0, 0, 0, 0.4);

  /* Improve hover state */
  transition: all 0.3s ease;
}

.establishment-marker-nightlife:hover {
  transform: scale(1.15);
  box-shadow:
    0 0 0 3px var(--color-gold, #C19A6B),
    0 8px 20px rgba(193, 154, 107, 0.4);
  z-index: 100;
}

/* ============================================
   FIX #6: ZONE SELECTOR - Improve Visibility
   ============================================ */

/**
 * BONUS: Zone buttons in sidebar plus visibles
 */

.zone-button-nightlife {
  font-size: var(--font-base, 1rem) !important;
  font-weight: var(--font-weight-semibold, 600);
  padding: var(--spacing-3, 1rem) var(--spacing-4, 1.5rem) !important;
  min-height: 2.75rem; /* 44px WCAG AAA */

  /* Better visual hierarchy */
  border-left: 3px solid transparent;
  transition: all 0.3s ease;
}

.zone-button-nightlife:hover {
  border-left-color: var(--color-gold, #C19A6B);
  background: rgba(193, 154, 107, 0.1);
  transform: translateX(4px);
}

.zone-button-nightlife.active,
.zone-button-nightlife[aria-selected="true"] {
  background: rgba(193, 154, 107, 0.15);
  border-left-color: var(--color-gold, #C19A6B);
  border-left-width: 4px;
}

/* ============================================
   FIX #7: FILTERS - Better Checkboxes
   ============================================ */

/**
 * BONUS: Checkboxes filtres plus visibles
 */

.filter-checkbox,
input[type="checkbox"] {
  min-width: 1.25rem; /* 20px */
  min-height: 1.25rem;
  accent-color: var(--color-gold, #C19A6B);
  cursor: pointer;
}

.filter-label {
  font-size: var(--font-sm, 0.875rem);
  color: rgba(255, 255, 255, 0.85);
  cursor: pointer;
  user-select: none;
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */

/* Mobile portrait (< 768px) */
@media (max-width: 48rem) {
  .header-main-nightlife {
    padding: var(--spacing-3, 1rem) var(--spacing-4, 1.5rem);
  }

  .header-subtitle-nightlife,
  .header-tagline-nightlife {
    font-size: var(--font-sm, 0.875rem) !important;
  }

  .back-button-absolute-nightlife {
    font-size: 1rem !important;
  }
}

/* Landscape mobile (max-height: 480px) */
@media (max-height: 30rem) and (orientation: landscape) {
  .mobile-bottom-nav {
    padding: var(--spacing-2, 0.75rem) var(--spacing-3, 1rem) !important;
  }

  .mobile-bottom-nav-item {
    min-height: 2.5rem; /* 40px - slightly smaller for landscape */
  }
}

/* ============================================
   ACCESSIBILITY IMPROVEMENTS
   ============================================ */

/* High contrast mode */
@media (prefers-contrast: high) {
  .header-subtitle-nightlife,
  .header-tagline-nightlife {
    color: white !important;
    text-shadow: 0 2px 4px black;
  }

  .back-button-absolute-nightlife,
  .header-back-btn {
    border-width: 3px !important;
    background: rgba(0, 0, 0, 0.8) !important;
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .back-button-absolute-nightlife,
  .zone-button-nightlife,
  .mobile-bottom-nav-item,
  .establishment-marker-nightlife {
    transition: none !important;
  }

  .back-button-absolute-nightlife:hover,
  .zone-button-nightlife:hover,
  .establishment-marker-nightlife:hover {
    transform: none !important;
  }
}

/* ============================================
   FIN SESSION 3 VISUAL FIXES
   ============================================ */

/**
 * TESTS RECOMMANDÃ‰S:
 *
 * 1. Desktop (1920x1080):
 *    - Header: Login/menu buttons visibles âœ“
 *    - Subtitle: Contraste amÃ©liorÃ© âœ“
 *    - Back button: Plus grand et visible âœ“
 *
 * 2. Mobile (375x812):
 *    - Header: Menu hamburger visible âœ“
 *    - Bottom nav: Espacement amÃ©liorÃ© âœ“
 *    - Map: Cercles bien contrastÃ©s âœ“
 *
 * 3. Accessibility:
 *    - Touch targets â‰¥44px âœ“
 *    - Contraste WCAG AAA âœ“
 *    - Reduced motion support âœ“
 *
 * IMPACT ATTENDU:
 * - VisibilitÃ©: +40% (subtitle, buttons, icons)
 * - UsabilitÃ©: +30% (touch targets, hover states)
 * - Score UX: +0.3 points (9.5 â†’ 9.8)
 */
