/**
 * ============================================
 * CSS COMPREHENSIVE FIXES V3 - 7 Décembre 2025
 * ============================================
 *
 * Corrections visuelles identifiées par audit statique:
 * 1. Z-INDEX CHAOS - Normalisation hiérarchie (100000+ → système cohérent)
 * 2. FONT-SIZE MINIMUM - 9px/10px → 11px/12px (WCAG lisibilité)
 * 3. ICON/TEXT OVERLAPS - Icônes emojis avec contraste correct
 * 4. DARK THEME CONTRAST - Couleurs trop sombres sur fond sombre
 * 5. TOUCH TARGETS - Boutons/icônes < 44px
 *
 * @import APRÈS tous les autres CSS pour override maximum
 */

/* ============================================
   SECTION 1: Z-INDEX NORMALISATION
   ============================================

   PROBLÈMES IDENTIFIÉS:
   - employee-profile.css: z-index: 100000
   - profile-modal.css: z-index: 100000
   - photo-gallery-modal.css: z-index: 100001
   - dialog-modals.css: z-index: 9999
   - auth-pages.css: z-index: 9999
   - notification-bell.css: z-index: 1000
   - language-selector.css: z-index: 10001
   - verification-modal.css: z-index: 10000
   - my-establishments.css: z-index: 1000

   NOUVELLE HIÉRARCHIE (basée sur design-system.css):
   - Base: 0-10
   - Dropdowns: 50-60
   - Header: 65
   - Sidebar: 70-80
   - Modal Overlay: 90
   - Modal Content: 100
   - Photo Gallery (over modal): 110
   - Notifications/Toast: 200
*/

/* Fix: Profile Modal - Overlay */
.profile-overlay-nightlife,
.profile-modal-overlay {
  z-index: 90 !important; /* Standard modal overlay */
}

/* Fix: Profile Modal - Content */
.profile-modal-nightlife,
.profile-modal {
  z-index: 100 !important; /* Standard modal */
}

/* Fix: Employee Profile Modal */
.employee-profile-modal-overlay {
  z-index: 90 !important;
}

.employee-profile-modal {
  z-index: 100 !important;
}

/* Fix: Photo Gallery Modal (needs to be ABOVE profile modal) */
.photo-gallery-modal-overlay {
  z-index: 105 !important; /* Above profile modal overlay */
}

.photo-gallery-modal {
  z-index: 110 !important; /* Above profile modal */
}

/* Fix: Dialog Modals */
.dialog-modal-overlay,
.confirm-modal-overlay,
.prompt-modal-overlay {
  z-index: 90 !important;
}

.dialog-modal,
.confirm-modal,
.prompt-modal {
  z-index: 100 !important;
}

/* Fix: Auth Pages Modal */
.auth-modal-overlay,
.auth-page-overlay {
  z-index: 90 !important;
}

.auth-modal,
.auth-modal-container {
  z-index: 100 !important;
}

/* Fix: Notification Bell Dropdown */
.notification-dropdown,
.notification-panel {
  z-index: 60 !important; /* Below modals, above content */
}

/* Fix: Language Selector Dropdown */
.language-dropdown,
.language-selector-dropdown,
.language-menu {
  z-index: 60 !important; /* Same level as notification */
}

/* Fix: Verification Modal */
.verification-modal-overlay {
  z-index: 90 !important;
}

.verification-modal {
  z-index: 100 !important;
}

/* Fix: Establishment Actions Dropdown */
.establishment-actions-dropdown {
  z-index: 50 !important;
}

/* ============================================
   SECTION 2: FONT-SIZE MINIMUM (WCAG LISIBILITÉ)
   ============================================

   PROBLÈMES IDENTIFIÉS:
   - employee-card.css: font-size: 9px, 10px
   - maps.css: font-size: 10px
   - notification-bell.css: font-size: 10px
   - verified-badge.css: font-size: 9px, 10px
   - header.css: font-size: 0.6rem (9.6px)
   - establishment-list-view.css: font-size: 10px

   WCAG RECOMMANDATION:
   - Texte principal: 14px minimum
   - Badges/Labels: 11px minimum (12px préféré)
   - Jamais en dessous de 11px
*/

/* Fix: Employee Card Type Label - Was 9px on mobile */
.employee-card-type {
  font-size: 11px !important; /* Was 9px */
}

.employee-card-type-label {
  font-size: 11px !important; /* Was 10px, now consistent */
}

/* Fix: Employee Card Icon */
.employee-card-type-icon {
  font-size: 12px !important; /* Was 10px on mobile */
}

/* Fix: Employee Card Establishment Name */
.employee-card-establishment {
  font-size: 11px !important; /* Was 10px */
}

/* Fix: Map Labels */
.map-marker-label,
.map-zone-label,
.map-establishment-label {
  font-size: 11px !important; /* Was 10px */
  font-weight: 600 !important; /* Better legibility */
}

/* Fix: Notification Badge */
.notification-bell-badge,
.notification-count {
  font-size: 11px !important; /* Was 10px */
  font-weight: 700 !important;
}

/* Fix: Notification Timestamp */
.notification-timestamp,
.notification-time {
  font-size: 11px !important; /* Was 10px */
}

/* Fix: Verified Badge */
.verified-badge,
.verified-badge-text {
  font-size: 11px !important; /* Was 9-10px */
  font-weight: 600 !important;
}

/* Fix: Header Small Text */
.header-xp-amount,
.header-level-badge {
  font-size: 11px !important; /* Was 0.6rem = 9.6px */
}

/* Fix: Establishment List Meta */
.establishment-meta-text,
.establishment-category-badge {
  font-size: 11px !important; /* Was 10px */
}

/* ============================================
   SECTION 3: EMOJI/ICON CONTRAST & VISIBILITY
   ============================================

   PROBLÈMES POTENTIELS:
   - Emojis sur fond sombre sans background
   - Icônes trop petites
   - Icônes chevauchant du texte
*/

/* Fix: Status Icons in Dashboard - Ensure visibility */
.status-icon,
.stat-icon,
.vip-icon,
.empty-icon {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 32px !important;
  min-height: 32px !important;
  text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3) !important;
}

/* Fix: Small Icons - Ensure minimum size */
.employee-card-icon,
.tab-icon-nightlife,
.sidebar-category-icon-nightlife,
.sidebar-price-icon-nightlife,
.owner-badge-icon-nightlife,
.breadcrumb-icon-nightlife,
.menu-item-icon,
.upload-icon,
.xp-level-icon,
.review-vote-icon,
.mission-icon,
.badge-icon,
.follow-icon,
.checkin-icon,
.checkin-result-icon,
.checkin-error-icon,
.pdf-icon,
.info-icon {
  font-size: 16px !important; /* Minimum readable icon size */
  line-height: 1 !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Fix: Vote Badge Icon */
.vote-icon {
  font-size: 14px !important;
  display: inline-flex !important;
  align-items: center !important;
}

/* Fix: Verified Icon Checkmark */
.verified-icon {
  font-size: 14px !important;
  font-weight: bold !important;
}

/* Fix: Rating Badge - Ensure emoji doesn't overlap */
.employee-card-rating-badge {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
  white-space: nowrap !important;
}

/* Fix: Vote Badge - Prevent overlap with Verified badge */
.employee-card-vote-badge {
  display: flex !important;
  align-items: center !important;
  gap: 4px !important;
}

/* ============================================
   SECTION 4: DARK THEME CONTRAST IMPROVEMENTS
   ============================================

   PROBLÈMES:
   - Texte rgba(255,255,255,0.4-0.5) sur fond sombre = illisible
   - Couleurs muted trop sombres
   - Secondary text presque invisible
*/

/* Fix: Muted Text Contrast */
.text-muted,
[class*="-muted"],
[class*="--muted"] {
  color: rgba(255, 255, 255, 0.7) !important; /* Was 0.4-0.5 */
}

/* Fix: Secondary Text Contrast */
.text-secondary,
[class*="-secondary"],
[class*="--secondary"] {
  color: rgba(255, 255, 255, 0.8) !important; /* Was 0.6 */
}

/* Fix: Placeholder Text */
::placeholder {
  color: rgba(255, 255, 255, 0.5) !important; /* Was often lower */
  opacity: 1 !important;
}

/* Fix: Disabled State Contrast */
button:disabled,
.btn:disabled,
input:disabled {
  opacity: 0.6 !important; /* Was often 0.3-0.4 */
}

/* Fix: Stat Note/Subtitle Contrast */
.stat-note,
.stat-subtitle,
.stat-description {
  color: rgba(255, 255, 255, 0.65) !important; /* Was 0.4 */
}

/* Fix: Action Note Contrast */
.action-note,
.contact-admin p {
  color: rgba(255, 255, 255, 0.7) !important; /* Was 0.6 */
}

/* Fix: Pending Status Text */
.pending-status-text,
.pending-date {
  color: rgba(255, 255, 255, 0.75) !important; /* Was 0.6-0.7 */
}

/* Fix: Employee Dashboard Subtitle */
.dashboard-subtitle {
  color: rgba(255, 255, 255, 0.8) !important; /* Was 0.7 */
}

/* Fix: Verified Date */
.verified-date {
  color: rgba(255, 255, 255, 0.7) !important; /* Was 0.6 */
}

/* Fix: Status Details */
.status-details {
  color: rgba(255, 255, 255, 0.7) !important; /* Was 0.6 */
}

/* ============================================
   SECTION 5: TOUCH TARGETS (WCAG 44px)
   ============================================

   All interactive elements should be minimum 44×44px
*/

/* Fix: Small Icon Buttons */
.btn-icon-sm,
.icon-btn-small,
.action-icon-btn {
  min-width: 44px !important;
  min-height: 44px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Fix: Close Buttons */
.close-btn,
.modal-close-btn,
.sidebar-close-btn {
  min-width: 44px !important;
  min-height: 44px !important;
}

/* Fix: Navigation Icons */
.nav-icon,
.header-icon-btn {
  min-width: 44px !important;
  min-height: 44px !important;
}

/* Fix: Social Badges */
.social-badge-icon {
  min-width: 44px !important;
  min-height: 44px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* ============================================
   SECTION 6: EMPLOYEE CARD SPECIFIC FIXES
   ============================================
*/

/* Fix: Card Info Box - Better contrast */
.employee-card-info {
  background: rgba(0, 0, 0, 0.75) !important; /* Was 0.7 - slightly more opaque */
}

/* Fix: Nickname Visibility */
.employee-card-nickname {
  color: rgba(255, 255, 255, 0.8) !important; /* Was 0.7 */
  font-size: 12px !important; /* Ensure minimum */
}

/* Fix: Detail Text */
.employee-card-detail {
  font-size: 12px !important; /* Was 10-11px on mobile */
}

/* Fix: Establishment Name in Card */
.employee-card-establishment-name {
  color: rgba(255, 255, 255, 0.85) !important;
}

/* ============================================
   SECTION 7: GAMIFICATION COMPONENTS
   ============================================
*/

/* Fix: XP Toast Icons */
.xp-toast-levelup-icon,
.level-icon {
  font-size: 24px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
}

/* Fix: Profile Stats Icons */
.profile-stat-icon,
.profile-level-icon {
  font-size: 20px !important;
  min-width: 32px !important;
}

/* Fix: Achievement Stats */
.stat-icon {
  font-size: 24px !important;
}

/* ============================================
   SECTION 8: FORM FIELD ICONS
   ============================================
*/

/* Fix: Field Validation Icons */
.field-icon-validating,
.field-icon-valid,
.field-icon-invalid {
  font-size: 16px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 20px !important;
}

/* Fix: Form Field Status */
.form-field-status-icon {
  min-width: 24px !important;
  min-height: 24px !important;
}

/* ============================================
   SECTION 9: NOTIFICATION & BELL
   ============================================
*/

/* Fix: Notification Bell Icon */
.notification-bell-icon {
  font-size: 20px !important;
  line-height: 1 !important;
}

/* Fix: Empty Notification State */
.notification-empty-icon {
  font-size: 32px !important;
  opacity: 0.7 !important;
}

/* ============================================
   SECTION 10: MODAL RESULT ICONS
   ============================================
*/

/* Fix: Result Icons in Modals */
.result-icon {
  font-size: 32px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  min-width: 48px !important;
  min-height: 48px !important;
}

.result-icon.success {
  color: #2ed573 !important;
}

.result-icon.review {
  color: #ffd700 !important;
}

.result-icon.rejected {
  color: #ff4757 !important;
}

/* Fix: Error/Success Icons in VIP Modal */
.error-icon,
.success-icon {
  font-size: 48px !important;
  line-height: 1 !important;
}

/* Fix: Payment Icons */
.payment-icon {
  font-size: 24px !important;
  display: inline-flex !important;
  align-items: center !important;
}

/* ============================================
   SECTION 11: PAGINATION ICONS
   ============================================
*/

/* Fix: Pagination Arrow Icons */
.pagination-btn--prev-icon,
.pagination-btn--next-icon {
  font-size: 18px !important;
  font-weight: bold !important;
}

/* ============================================
   SECTION 12: DIALOG ICONS
   ============================================
*/

/* Fix: Dialog/Confirm Modal Icons */
.dialog-icon {
  font-size: 48px !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  margin-bottom: 16px !important;
}

/* ============================================
   SECTION 13: VIP STATUS ICON
   ============================================
*/

/* Fix: VIP Status Icon in Profile */
.vip-status-icon {
  font-size: 20px !important;
  display: inline-flex !important;
  align-items: center !important;
  margin-right: 4px !important;
}

/* ============================================
   SECTION 14: BREADCRUMB CONSISTENCY
   ============================================
*/

/* Fix: Admin Breadcrumb Icon */
.admin-breadcrumb-icon-nightlife {
  font-size: 16px !important;
  display: inline-flex !important;
  align-items: center !important;
  margin-right: 4px !important;
}

/* ============================================
   SECTION 15: IMAGE UPLOAD ICON
   ============================================
*/

/* Fix: Upload Icon */
.upload-icon {
  font-size: 32px !important;
  color: rgba(255, 255, 255, 0.6) !important;
}

/* ============================================
   SECTION 16: USER INFO STAT ICONS
   ============================================
*/

/* Fix: User Info Modal Stats */
.user-info-stat-icon {
  font-size: 20px !important;
  min-width: 28px !important;
}

/* ============================================
   SECTION 17: ACCESS DENIED & ERROR
   ============================================
*/

/* Fix: Access Denied Icon */
.access-denied-icon {
  font-size: 64px !important;
  margin-bottom: 24px !important;
}

/* Fix: Error Fallback Icon */
.error-icon {
  font-size: 48px !important;
}

/* Fix: Profile Error Icon */
.profile-error-icon {
  font-size: 32px !important;
  margin-right: 8px !important;
}

/* ============================================
   SECTION 18: FOLLOW BUTTON STATES
   ============================================
*/

/* Fix: Follow Button Icons */
.follow-icon {
  font-size: 14px !important;
  font-weight: bold !important;
}

.follow-error-icon {
  font-size: 16px !important;
  margin-right: 4px !important;
}

/* ============================================
   SECTION 19: LEADERBOARD & BADGES
   ============================================
*/

/* Fix: Leaderboard Empty Icon */
.leaderboard .empty-icon,
.badge-showcase .empty-icon {
  font-size: 48px !important;
  opacity: 0.6 !important;
}

/* Fix: Badge More Icon */
.badge-more-icon {
  font-size: 14px !important;
  color: rgba(255, 255, 255, 0.7) !important;
}

/* ============================================
   SECTION 20: RESPONSIVE OVERRIDES
   ============================================
*/

/* Mobile: Ensure minimum readability */
@media (max-width: 480px) {
  /* Force minimum font sizes on mobile */
  .employee-card-type,
  .employee-card-type-label,
  .employee-card-detail,
  .employee-card-establishment {
    font-size: 11px !important;
  }

  /* Force minimum icon sizes on mobile */
  .employee-card-icon,
  .employee-card-type-icon {
    font-size: 12px !important;
  }

  /* Ensure touch targets on mobile */
  .employee-card-vote-badge,
  .employee-card-verified-corner {
    min-height: 32px !important;
    padding: 6px 10px !important;
  }
}

/* Tablet: Balance between desktop and mobile */
@media (min-width: 481px) and (max-width: 768px) {
  .employee-card-type-label {
    font-size: 11px !important;
  }
}

/* ============================================
   SECTION 21: REDUCED MOTION & ACCESSIBILITY
   ============================================
*/

@media (prefers-reduced-motion: reduce) {
  * {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (prefers-contrast: high) {
  .text-muted,
  .text-secondary {
    color: rgba(255, 255, 255, 0.9) !important;
  }

  .employee-card-info {
    background: rgba(0, 0, 0, 0.9) !important;
  }
}

/* ============================================
   END OF CSS COMPREHENSIVE FIXES V3
   ============================================

   SUMMARY:
   - 21 sections de corrections
   - Z-index chaos résolu (100000 → 90-110)
   - Font-size minimum: 11px pour tous badges/labels
   - Icon sizes: 14-24px selon contexte
   - Dark theme contrast: 0.4 → 0.65+ pour muted text
   - Touch targets: 44px minimum
   - Responsive: Mobile-first fixes

   IMPORT ORDER (index.css):
   1. design-system.css
   2. nightlife-theme.css
   3. css-visual-fixes.css
   4. css-audit-fixes.css
   5. css-comprehensive-fixes-v3.css ← THIS FILE (LAST)
*/
